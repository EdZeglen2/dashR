void 0!==window.dashR&&dashR().addContext({name:"field",js:{validation:function(scope){function validateEmail(e){if(0==e.length)return!0;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function numbersOnly(e){return/^[0-9-\.]*$/.test(e)}function alphaOnly(e){return/^[A-Za-z]+$/.test(e)}function alphaNumericOnly(e){if(e){return/^\w+$/.test(e)}return!0}function regexTest(e,i){return new RegExp(i).test(e)}function isValidDate(e){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e))return!1;var i=e.split("/"),t=parseInt(i[1],10),r=parseInt(i[0],10),a=parseInt(i[2],10);if(a<1e3||a>3e3||0==r||r>12)return!1;var l=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(l[1]=29),t>0&&t<=l[r-1]}return{fieldData:[],key:"fv-test",scope:scope,errorFields:[],parsed:!1,parse:function(){var e,i=this;i.fieldData=[],e=i.scope?$("#"+i.scope).find("input["+i.key+"], textarea["+i.key+"], select["+i.key+"]"):$("input["+i.key+"], textarea["+i.key+"], select["+i.key+"]"),$.each(e,(function(e,t){var r={element:t,id:$(t).attr("id"),inside:$(t).attr("fv-inside"),type:$(t).attr("fv-type"),regex:$(t).attr("fv-regex"),min:$(t).attr("fv-min"),max:$(t).attr("fv-max"),email:"true"==$(t).attr("fv-email"),blur:"true"==$(t).attr("fv-blur"),date:"true"==$(t).attr("fv-date"),message:$(t).attr("fv-message")?$(t).attr("fv-message"):"Please fill out this field",isRequired:"required"==$(t).attr("required"),function:$(t).attr("fv-function"),error:"err_"+e};i.placement(r),i.fieldData.push(r),r.blur&&i.add_blur(r)})),i.parsed=!0},add_blur:function(e){var i=this,t=$(e.element);$(t).off("blur"),$(t).on("blur",(function(){i._validate(e)&&i.reset(e)}))},placement:function(e){var i=$(e.element),t=$('<span id="'+this.scope+"_"+e.error+'" style="display:none"></span>').text(e.message);t.addClass("invalid-feedback"),"checkbox"===i.prop("type")?t.insertAfter(i.next("label")):t.insertAfter(i)},validate:function(e,i){var t=!0;if(this.parsed||this.parse(),this.errorFields=[],this.fieldData.length>0)for(var r=0;r<this.fieldData.length;r++){this._validate(this.fieldData[r])||(this.errorFields.push(this.fieldData[r]),t=!1)}return t?(e&&e(),!0):(i&&i(this.errorFields),!1)},_validate:function(vField){var el=$(vField.element),value=$(vField.element).val();if(vField.isRequired)if("checkbox"===el.prop("type")){if(!el.prop("checked"))return this.message(vField,"Please check this box to proceed."),this.update_ui(el,!1,vField.error),!1}else if(!value)return this.update_ui(el,!1,vField.error),!1;if(value.length<vField.min)return this.message(vField,"A minimum of "+vField.min+" characters are required."),this.update_ui(el,!1,vField.error),!1;if(value.length>vField.max)return this.message(vField,"Only "+vField.max+" characters are allowed."),this.update_ui(el,!1,vField.error),!1;if(vField.email&&!validateEmail(value))return this.message(vField,"Enter a valid Email Address."),this.update_ui(el,!1,vField.error),!1;if(vField.date&&!isValidDate(value))return this.message(vField,"Enter a valid Date."),this.update_ui(el,!1,vField.error),!1;if("numeric"==vField.type){if(!numbersOnly(value))return this.message(vField,"This field is for numbers only."),this.update_ui(el,!1,vField.error),!1}else if("alpha"==vField.type){if(!alphaOnly(value))return this.message(vField,"This field is for letters only."),this.update_ui(el,!1,vField.error),!1}else if("alphanumeric"==vField.type&&!alphaNumericOnly(value))return this.message(vField,"This field is for letters and numebrs only."),this.update_ui(el,!1,vField.error),!1;if(vField.function){var obj=eval(vField.function+"(vField, value);");if(obj.isInvalid)return this.message(vField,obj.message),this.update_ui(el,!1,vField.error),!1}return vField.regex&&!regexTest(value,vField.regex)?(this.update_ui(el,!1,vField.error),!1):(this.update_ui(el,!0,vField.error),!0)},update_ui:function(e,i,t){i?(e.addClass("is-valid").removeClass("is-invalid"),$("#"+this.scope+"_"+t).css("display","none")):(e.addClass("is-invalid").removeClass("is-valid"),$("#"+this.scope+"_"+t).css("display","block"))},message:function(e,i){$("#"+this.scope+"_"+e.error).text(i)},reset:function(e){if(null==e){if(this.fieldData.length>0)for(var i=0;i<this.fieldData.length;i++)$(this.fieldData[i].element).removeClass("is-invalid").removeClass("is-valid")}else $(e.element).removeClass("is-invalid").removeClass("is-valid")}}}}});